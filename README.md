# 🚗 YOLOv8 車輛標註工具 v2.2.0

專為車輛檢測設計的專業級標註工具，集成AI自動預標註、自定義車種管理、**專業模型訓練**、高效能圖像處理、多格式匯出等功能。

## ✨ 功能特色

### 🎯 核心功能
- **智慧車輛分類**：完全自定義車種類別，不再限於固定類型
- **AI自動預標註**：整合YOLOv8模型，一鍵自動檢測與標註
- **專業模型訓練**：基於標註資料訓練專用車輛檢測模型，支援完整訓練流程
- **精確標註工具**：八手柄編輯器，支援像素級精準調整
- **批次處理**：支援資料夾批次載入、AI批次預測、批次匯出
- **多格式匯出**：YOLO、COCO、Pascal VOC、JSON等格式

### 🚀 進階功能
- **效能優化**：大圖片載入優化、智慧快取管理、記憶體監控
- **專案管理**：最近檔案、專案保存、自動備份機制
- **專業UI**：現代化深色主題、可調整視窗佈局、工具列自訂
- **快捷操作**：完整快捷鍵支援、快速車種切換、一鍵視圖控制

## 🆕 最新功能 v2.2.0

### 🎓 專業自訂模型訓練系統
革命性的AI模型訓練功能，讓您基於標註資料訓練專用車輛檢測模型：

#### 🚀 訓練系統特色
- **🔧 完整訓練流程**：資料集準備 → 模型訓練 → 評估驗證 → 結果輸出
- **📊 智慧資料分割**：自動分割為訓練集(70%)、驗證集(20%)、測試集(10%)
- **💻 自適應硬體**：自動檢測GPU/CPU，優化訓練效能
- **📈 即時監控**：訓練進度、Loss曲線、mAP指標即時顯示
- **🎯 專業配置**：可調整訓練參數、學習率、批次大小等

#### 📋 訓練流程
1. **資料準備**：自動掃描標註檔案，建立YOLO格式資料集
2. **參數設定**：選擇基礎模型、訓練輪數、學習率等參數
3. **開始訓練**：一鍵啟動，支援背景訓練與即時監控
4. **結果評估**：自動評估模型效能，產生詳細訓練報告
5. **模型輸出**：訓練完成的模型可直接用於預測標註

#### 🎮 使用方式
- 按 **Ctrl+T** 或點擊 **"🎓 模型訓練"** 開啟訓練界面
- 支援基於現有標註資料的完全自動化訓練流程
- 訓練結果保存在 `training_runs/` 目錄，包含模型檔案與訓練報告

### 🧠 YOLOv8 模型選擇系統
智慧型AI模型選擇功能，讓您根據需求選擇最適合的檢測模型：

#### 📊 模型比較表
| 模型版本 | 檔案大小 | 速度 | 精確度 | 記憶體使用 | 適用場景 |
|----------|----------|------|--------|------------|----------|
| **Nano** | 6.2 MB | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐ | 移動設備、即時處理 |
| **Small** | 21.5 MB | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ | 快速原型、一般檢測 |
| **Medium** | 49.7 MB | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | 標準應用（預設） |
| **Large** | 87.7 MB | ⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 高精度要求 |
| **X-Large** | 136.7 MB | ⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 研究用途 |

#### 🎯 使用指南
- 按 **F4** 或點擊 **"🧠 選擇模型"** 開啟模型選擇器
- 根據硬體配置選擇適合的模型版本
- 系統自動下載不存在的模型檔案
- 支援即時模型切換，無需重啟程式

### 🎯 高精度座標匯出
極致精確的標註座標匯出功能：
- **12位小數精度**：從6位提升至12位小數點精確度
- **精度提升594,000倍**：大幅減少座標誤差
- **格式全覆蓋**：YOLO、JSON、COCO格式全面支援高精度

##  系統需求

### 最低需求
- **作業系統**：Windows 10/11、macOS 10.14+、Ubuntu 18.04+
- **Python**：3.8 或以上版本
- **記憶體**：4GB RAM
- **硬碟空間**：2GB 可用空間

### 建議配置
- **記憶體**：8GB RAM 或以上
- **顯示卡**：支援CUDA的NVIDIA GPU（AI功能加速）
- **處理器**：Intel i5 或 AMD Ryzen 5 以上

## 🛠 安裝指南

### 方法一：一鍵安裝
```bash
# 1. 下載專案
git clone https://github.com/ericchen2023/yolo-vehicle-annotator.git
cd yolo-vehicle-annotator

# 2. 執行安裝腳本
# Windows
install.bat
# macOS/Linux
./install.sh
```

### 方法二：手動安裝
```bash
# 1. 建立虛擬環境
py -m venv .venv
.venv\Scripts\activate

# 2. 安裝依賴
pip install -r requirements.txt

# 3. 啟動程式
python main.py
```

## 🚀 快速入門

### 基本使用流程
1. **載入圖片**：`Ctrl+O` 載入單張圖片或 `Ctrl+Shift+O` 載入資料夾
2. **選擇AI模型**：`F4` 選擇適合的YOLOv8模型版本
3. **AI自動標註**：`F5` 執行AI預測或 `Ctrl+F5` 批次處理
4. **手動調整**：使用八手柄編輯器精確調整標註
5. **匯出結果**：`Ctrl+S` 匯出YOLO格式或 `Ctrl+E` 多格式匯出

### 車種管理
- **管理車種**：`Ctrl+V` 開啟車種管理器
- **自定義車種**：新增、編輯、刪除車種類別
- **快速切換**：使用數字鍵 1-4 或自定義快捷鍵

## ⌨️ 主要快捷鍵

### 檔案操作
| 功能 | 快捷鍵 | 說明 |
|------|--------|------|
| 載入圖片 | `Ctrl+O` | 開啟單張圖片 |
| 載入資料夾 | `Ctrl+Shift+O` | 載入整個資料夾 |
| 儲存標註 | `Ctrl+S` | 匯出當前標註 |
| 進階匯出 | `Ctrl+E` | 多格式匯出 |

### AI功能
| 功能 | 快捷鍵 | 說明 |
|------|--------|------|
| 選擇模型 | `F4` | 選擇YOLOv8模型版本 |
| AI預測 | `F5` | 當前圖片AI標註 |
| 批次AI | `Ctrl+F5` | 批次AI處理 |
| AI設定 | `F6` | AI參數設定 |
| 模型訓練 | `Ctrl+T` | 開啟自訂模型訓練 |

### 圖片導航
| 功能 | 快捷鍵 | 說明 |
|------|--------|------|
| 上一張 | `←` `A` | 前一張圖片 |
| 下一張 | `→` `D` | 下一張圖片 |
| 車種切換 | `1-4` | 快速切換車輛類型 |

### 視圖控制
| 功能 | 快捷鍵 | 說明 |
|------|--------|------|
| 適應視窗 | `Ctrl+0` `F` | 適應視窗大小 |
| 全螢幕 | `F9` | 切換全螢幕 |
| 車種管理 | `Ctrl+V` | 車種類別管理 |

## 📤 匯出格式

### YOLO格式
標準YOLOv8訓練格式，12位小數精度座標：
```
# 格式：class_id center_x center_y width height
0 0.123456789012 0.987654321098 0.300000000000 0.400000000000
```

### COCO格式
JSON結構化資料，支援高精度座標：
```json
{
  "images": [...],
  "annotations": [...],
  "categories": [
    {"id": 0, "name": "motorcycle"},
    {"id": 1, "name": "car"}
  ]
}
```

### Pascal VOC格式
XML結構化標註格式：
```xml
<annotation>
  <filename>image.jpg</filename>
  <object>
    <name>car</name>
    <bndbox>
      <xmin>100</xmin>
      <ymin>200</ymin>
      <xmax>300</xmax>
      <ymax>400</ymax>
    </bndbox>
  </object>
</annotation>
```

## 🔧 疑難排解

### 常見問題

**Q: AI預測速度慢**
- 選擇較小的模型（YOLOv8n 或 YOLOv8s）
- 檢查CUDA是否正確安裝
- 調整批次大小設定

**Q: 記憶體不足**
- 使用較小的AI模型
- 調整快取大小設定（F7）
- 關閉其他大型應用程式

**Q: 匯出檔案為空**
- 確認已建立標註
- 檢查輸出目錄權限
- 確認圖片已正確載入

### 效能優化
- **記憶體監控**：按 F8 開啟記憶體監控
- **快取管理**：按 F7 管理圖片快取
- **模型選擇**：根據硬體選擇適合的AI模型

## � 支援與貢獻

### 技術支援
- **Github Issues**: [提交問題](https://github.com/ericchen2023/yolo-vehicle-annotator/issues)
- **Email**: ericchen20050329@gmail.com

### 授權條款
本專案採用 MIT 授權條款，歡迎貢獻與使用。

---

*版本: v2.2.0 | 最後更新: 2025-08-27*
